!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.TSNE=e()}}(function(){var e;return function e(t,r,n){function a(s,o){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!o&&u)return u(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return a(r?r:e)},c,c.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(e,t,r){"use strict";function n(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function a(e){var t=new n;t.pre=e.pre,t.body=e.body,t.post=e.post;var r=e.args.slice(0);t.argTypes=r;for(var a=0;a<r.length;++a){var s=r[a];if("array"===s||"object"==typeof s&&s.blockIndices){if(t.argTypes[a]="array",t.arrayArgs.push(a),t.arrayBlockIndices.push(s.blockIndices?s.blockIndices:0),t.shimArgs.push("array"+a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===s)t.scalarArgs.push(a),t.shimArgs.push("scalar"+a);else if("index"===s){if(t.indexArgs.push(a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===s){if(t.shapeArgs.push(a),a<t.pre.args.length&&t.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<t.post.args.length&&t.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof s||!s.offset)throw new Error("cwise: Unknown argument type "+r[a]);t.argTypes[a]="offset",t.offsetArgs.push({array:s.array,offset:s.offset}),t.offsetArgIndex.push(a)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,i(t)}var i=e("./lib/thunk.js");t.exports=a},{"./lib/thunk.js":3}],2:[function(e,t,r){"use strict";function n(e,t,r){var n,a,i=e.length,s=t.arrayArgs.length,o=t.indexArgs.length>0,u=[],l=[],c=0,f=0;for(n=0;i>n;++n)l.push(["i",n,"=0"].join(""));for(a=0;s>a;++a)for(n=0;i>n;++n)f=c,c=e[n],0===n?l.push(["d",a,"s",n,"=t",a,"p",c].join("")):l.push(["d",a,"s",n,"=(t",a,"p",c,"-s",f,"*t",a,"p",f,")"].join(""));for(u.push("var "+l.join(",")),n=i-1;n>=0;--n)c=e[n],u.push(["for(i",n,"=0;i",n,"<s",c,";++i",n,"){"].join(""));for(u.push(r),n=0;i>n;++n){for(f=c,c=e[n],a=0;s>a;++a)u.push(["p",a,"+=d",a,"s",n].join(""));o&&(n>0&&u.push(["index[",f,"]-=s",f].join("")),u.push(["++index[",c,"]"].join(""))),u.push("}")}return u.join("\n")}function a(e,t,r,a){for(var i=t.length,s=r.arrayArgs.length,o=r.blockSize,u=r.indexArgs.length>0,l=[],c=0;s>c;++c)l.push(["var offset",c,"=p",c].join(""));for(var c=e;i>c;++c)l.push(["for(var j"+c+"=SS[",t[c],"]|0;j",c,">0;){"].join("")),l.push(["if(j",c,"<",o,"){"].join("")),l.push(["s",t[c],"=j",c].join("")),l.push(["j",c,"=0"].join("")),l.push(["}else{s",t[c],"=",o].join("")),l.push(["j",c,"-=",o,"}"].join("")),u&&l.push(["index[",t[c],"]=j",c].join(""));for(var c=0;s>c;++c){for(var f=["offset"+c],p=e;i>p;++p)f.push(["j",p,"*t",c,"p",t[p]].join(""));l.push(["p",c,"=(",f.join("+"),")"].join(""))}l.push(n(t,r,a));for(var c=e;i>c;++c)l.push("}");return l.join("\n")}function i(e){for(var t=0,r=e[0].length;r>t;){for(var n=1;n<e.length;++n)if(e[n][t]!==e[0][t])return t;++t}return t}function s(e,t,r){for(var n=e.body,a=[],i=[],s=0;s<e.args.length;++s){var o=e.args[s];if(!(o.count<=0)){var u=new RegExp(o.name,"g"),l="",c=t.arrayArgs.indexOf(s);switch(t.argTypes[s]){case"offset":var f=t.offsetArgIndex.indexOf(s),p=t.offsetArgs[f];c=p.array,l="+q"+f;case"array":l="p"+c+l;var h="l"+s,d="a"+c;if(0===t.arrayBlockIndices[c])1===o.count?"generic"===r[c]?o.lvalue?(a.push(["var ",h,"=",d,".get(",l,")"].join("")),n=n.replace(u,h),i.push([d,".set(",l,",",h,")"].join(""))):n=n.replace(u,[d,".get(",l,")"].join("")):n=n.replace(u,[d,"[",l,"]"].join("")):"generic"===r[c]?(a.push(["var ",h,"=",d,".get(",l,")"].join("")),n=n.replace(u,h),o.lvalue&&i.push([d,".set(",l,",",h,")"].join(""))):(a.push(["var ",h,"=",d,"[",l,"]"].join("")),n=n.replace(u,h),o.lvalue&&i.push([d,"[",l,"]=",h].join("")));else{for(var y=[o.name],m=[l],g=0;g<Math.abs(t.arrayBlockIndices[c]);g++)y.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(g+1)+"*t"+c+"b"+g);if(u=new RegExp(y.join(""),"g"),l=m.join("+"),"generic"===r[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(u,[d,"[",l,"]"].join(""))}break;case"scalar":n=n.replace(u,"Y"+t.scalarArgs.indexOf(s));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[a.join("\n"),n,i.join("\n")].join("\n").trim()}function o(e){for(var t=new Array(e.length),r=!0,n=0;n<e.length;++n){var a=e[n],i=a.match(/\d+/);i=i?i[0]:"",0===a.charAt(0)?t[n]="u"+a.charAt(1)+i:t[n]=a.charAt(0)+i,n>0&&(r=r&&t[n]===t[n-1])}return r?t[0]:t.join("")}function u(e,t){for(var r=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,u=new Array(e.arrayArgs.length),c=new Array(e.arrayArgs.length),f=0;f<e.arrayArgs.length;++f)c[f]=t[2*f],u[f]=t[2*f+1];for(var p=[],h=[],d=[],y=[],m=[],f=0;f<e.arrayArgs.length;++f){e.arrayBlockIndices[f]<0?(d.push(0),y.push(r),p.push(r),h.push(r+e.arrayBlockIndices[f])):(d.push(e.arrayBlockIndices[f]),y.push(e.arrayBlockIndices[f]+r),p.push(0),h.push(e.arrayBlockIndices[f]));for(var g=[],v=0;v<u[f].length;v++)d[f]<=u[f][v]&&u[f][v]<y[f]&&g.push(u[f][v]-d[f]);m.push(g)}for(var b=["SS"],_=["'use strict'"],w=[],v=0;r>v;++v)w.push(["s",v,"=SS[",v,"]"].join(""));for(var f=0;f<e.arrayArgs.length;++f){b.push("a"+f),b.push("t"+f),b.push("p"+f);for(var v=0;r>v;++v)w.push(["t",f,"p",v,"=t",f,"[",d[f]+v,"]"].join(""));for(var v=0;v<Math.abs(e.arrayBlockIndices[f]);++v)w.push(["t",f,"b",v,"=t",f,"[",p[f]+v,"]"].join(""))}for(var f=0;f<e.scalarArgs.length;++f)b.push("Y"+f);if(e.shapeArgs.length>0&&w.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var k=new Array(r),f=0;r>f;++f)k[f]="0";w.push(["index=[",k.join(","),"]"].join(""))}for(var f=0;f<e.offsetArgs.length;++f){for(var S=e.offsetArgs[f],x=[],v=0;v<S.offset.length;++v)0!==S.offset[v]&&(1===S.offset[v]?x.push(["t",S.array,"p",v].join("")):x.push([S.offset[v],"*t",S.array,"p",v].join("")));0===x.length?w.push("q"+f+"=0"):w.push(["q",f,"=",x.join("+")].join(""))}var E=l([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));w=w.concat(E),_.push("var "+w.join(","));for(var f=0;f<e.arrayArgs.length;++f)_.push("p"+f+"|=0");e.pre.body.length>3&&_.push(s(e.pre,e,c));var A=s(e.body,e,c),I=i(m);r>I?_.push(a(I,m[0],e,A)):_.push(n(m[0],e,A)),e.post.body.length>3&&_.push(s(e.post,e,c)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+_.join("\n")+"\n----------");var j=[e.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",I,o(c)].join(""),C=new Function(["function ",j,"(",b.join(","),"){",_.join("\n"),"} return ",j].join(""));return C()}var l=e("uniq");t.exports=u},{uniq:17}],3:[function(e,t,r){"use strict";function n(e){var t=["'use strict'","var CACHED={}"],r=[],n=e.funcName+"_cwise_thunk";t.push(["return function ",n,"(",e.shimArgs.join(","),"){"].join(""));for(var i=[],s=[],o=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],u=[],l=[],c=0;c<e.arrayArgs.length;++c){var f=e.arrayArgs[c];r.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),i.push("t"+f),i.push("r"+f),s.push("t"+f),s.push("r"+f+".join()"),o.push("array"+f+".data"),o.push("array"+f+".stride"),o.push("array"+f+".offset|0"),c>0&&(u.push("array"+e.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[c]))),l.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[c])+"]"))}e.arrayArgs.length>1&&(t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}"));for(var c=0;c<e.scalarArgs.length;++c)o.push("scalar"+e.scalarArgs[c]);r.push(["type=[",s.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),t.push("var "+r.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",o.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------");var p=new Function("compile",t.join("\n"));return p(a.bind(void 0,e))}var a=e("./compile.js");t.exports=n},{"./compile.js":2}],4:[function(e,t,r){"use strict";function n(e,t,r){this.name=e,this.lvalue=t,this.rvalue=r,this.count=0}function a(e,t,r,n){this.body=e,this.args=t,this.thisVars=r,this.localVars=n}function i(e){if("eval"===e)throw new Error("cwise-parser: eval() not allowed");return"undefined"!=typeof window?e in window:"undefined"!=typeof GLOBAL?e in GLOBAL:"undefined"!=typeof self&&e in self}function s(e){for(var t=e.body[0].expression.callee.params,r=new Array(t.length),n=0;n<t.length;++n)r[n]=t[n].name;return r}function o(e){function t(e){var t=m+e.replace(/\_/g,"__");return k.push(t),t}function r(e){var t="this_"+e.replace(/\_/g,"__");return S.push(t),t}function o(e,t){for(var r=e.range[0],n=e.range[1],a=r+1;n>a;++a)_[a]="";_[r]=t}function f(e){return"'"+e.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}function p(e){return _.slice(e.range[0],e.range[1]).join("")}function h(e){return"AssignmentExpression"===e.parent.type&&e.parent.left===e?"="===e.parent.operator?x:x|E:"UpdateExpression"===e.parent.type?x|E:E}for(var d=["(",e,")()"].join(""),y=u.parse(d,{range:!0}),m="_inline_"+c++ +"_",g=s(y),v=new Array(g.length),b=0;b<g.length;++b)v[b]=new n([m,"arg",b,"_"].join(""),!1,!1);for(var _=new Array(d.length),b=0,w=d.length;w>b;++b)_[b]=d.charAt(b);var k=[],S=[],x=1,E=2;!function e(n,a){if(n.parent=a,"MemberExpression"===n.type)n.computed?(e(n.object,n),e(n.property,n)):"ThisExpression"===n.object.type?o(n,r(n.property.name)):e(n.object,n);else{if("ThisExpression"===n.type)throw new Error("cwise-parser: Computed this is not allowed");if("Identifier"===n.type){var s=n.name,u=g.indexOf(s);if(u>=0){var l=v[u],c=h(n);c&x&&(l.lvalue=!0),c&E&&(l.rvalue=!0),++l.count,o(n,l.name)}else i(s)||o(n,t(s))}else if("Literal"===n.type)"string"==typeof n.value&&o(n,f(n.value));else{if("WithStatement"===n.type)throw new Error("cwise-parser: with() statements not allowed");for(var p=Object.keys(n),d=0,y=p.length;y>d;++d)if("parent"!==p[d]){var m=n[p[d]];if(m)if(m instanceof Array)for(var b=0;b<m.length;++b)m[b]&&"string"==typeof m[b].type&&e(m[b],n);else"string"==typeof m.type&&e(m,n)}}}}(y.body[0].expression.callee.body,void 0),l(k),l(S);var A=new a(p(y.body[0].expression.callee.body),v,S,k);return A}var u=e("esprima"),l=e("uniq"),c=0;t.exports=o},{esprima:8,uniq:17}],5:[function(e,t,r){"use strict";function n(e){for(var t in e)s.indexOf(t)<0&&o.indexOf(t)<0&&console.warn("cwise: Unknown argument '"+t+"' passed to expression compiler");for(var r=0;r<s.length;++r)if(!e[s[r]])throw new Error("cwise: Missing argument: "+s[r]);return i({args:e.args,pre:a(e.pre||function(){}),body:a(e.body),post:a(e.post||function(){}),debug:!!e.printCode,funcName:e.funcName||e.body.name||"cwise",blockSize:e.blockSize||64})}var a=e("cwise-parser"),i=e("cwise-compiler"),s=["args","body"],o=["pre","post","printCode","funcName","blockSize"];t.exports=n},{"cwise-compiler":1,"cwise-parser":4}],6:[function(e,t,r){t.exports=e("cwise-compiler")},{"cwise-compiler":1}],7:[function(e,t,r){"use strict";function n(e,t,r){var a=0|e[r];if(0>=a)return[];var i,s=new Array(a);if(r===e.length-1)for(i=0;a>i;++i)s[i]=t;else for(i=0;a>i;++i)s[i]=n(e,t,r+1);return s}function a(e,t){var r,n;for(r=new Array(e),n=0;e>n;++n)r[n]=t;return r}function i(e,t){switch("undefined"==typeof t&&(t=0),typeof e){case"number":if(e>0)return a(0|e,t);break;case"object":if("number"==typeof e.length)return n(e,t,0)}return[]}t.exports=i},{}],8:[function(t,r,n){!function(t,r){"use strict";"function"==typeof e&&e.amd?e(["exports"],r):r("undefined"!=typeof n?n:t.esprima={})}(this,function(e){"use strict";function t(e,t){if(!e)throw new Error("ASSERT: "+t)}function r(e){return e>=48&&57>=e}function n(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function a(e){return"01234567".indexOf(e)>=0}function i(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function s(e){return 10===e||13===e||8232===e||8233===e}function o(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||92===e||e>=128&&it.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function u(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e||92===e||e>=128&&it.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function l(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function c(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function f(e){return"eval"===e||"arguments"===e}function p(e){if(ut&&c(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function h(e,r,n,a,i){var s;t("number"==typeof n,"Comment must have valid position"),yt.lastCommentStart>=n||(yt.lastCommentStart=n,s={type:e,value:r},mt.range&&(s.range=[n,a]),mt.loc&&(s.loc=i),mt.comments.push(s),mt.attachComment&&(mt.leadingComments.push(s),mt.trailingComments.push(s)))}function d(e){var t,r,n,a;for(t=lt-e,r={start:{line:ct,column:lt-ft-e}};pt>lt;)if(n=ot.charCodeAt(lt),++lt,s(n))return mt.comments&&(a=ot.slice(t+e,lt-1),r.end={line:ct,column:lt-ft-1},h("Line",a,t,lt-1,r)),13===n&&10===ot.charCodeAt(lt)&&++lt,++ct,void(ft=lt);mt.comments&&(a=ot.slice(t+e,lt),r.end={line:ct,column:lt-ft},h("Line",a,t,lt,r))}function y(){var e,t,r,n;for(mt.comments&&(e=lt-2,t={start:{line:ct,column:lt-ft-2}});pt>lt;)if(r=ot.charCodeAt(lt),s(r))13===r&&10===ot.charCodeAt(lt+1)&&++lt,++ct,++lt,ft=lt,lt>=pt&&R({},at.UnexpectedToken,"ILLEGAL");else if(42===r){if(47===ot.charCodeAt(lt+1))return++lt,++lt,void(mt.comments&&(n=ot.slice(e+2,lt-2),t.end={line:ct,column:lt-ft},h("Block",n,e,lt,t)));++lt}else++lt;R({},at.UnexpectedToken,"ILLEGAL")}function m(){var e,t;for(t=0===lt;pt>lt;)if(e=ot.charCodeAt(lt),i(e))++lt;else if(s(e))++lt,13===e&&10===ot.charCodeAt(lt)&&++lt,++ct,ft=lt,t=!0;else if(47===e)if(e=ot.charCodeAt(lt+1),47===e)++lt,++lt,d(2),t=!0;else{if(42!==e)break;++lt,++lt,y()}else if(t&&45===e){if(45!==ot.charCodeAt(lt+1)||62!==ot.charCodeAt(lt+2))break;lt+=3,d(3)}else{if(60!==e)break;if("!--"!==ot.slice(lt+1,lt+4))break;++lt,++lt,++lt,++lt,d(4)}}function g(e){var t,r,a,i=0;for(r="u"===e?4:2,t=0;r>t;++t){if(!(pt>lt&&n(ot[lt])))return"";a=ot[lt++],i=16*i+"0123456789abcdef".indexOf(a.toLowerCase())}return String.fromCharCode(i)}function v(){var e,t;for(e=ot.charCodeAt(lt++),t=String.fromCharCode(e),92===e&&(117!==ot.charCodeAt(lt)&&R({},at.UnexpectedToken,"ILLEGAL"),++lt,e=g("u"),e&&"\\"!==e&&o(e.charCodeAt(0))||R({},at.UnexpectedToken,"ILLEGAL"),t=e);pt>lt&&(e=ot.charCodeAt(lt),u(e));)++lt,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==ot.charCodeAt(lt)&&R({},at.UnexpectedToken,"ILLEGAL"),++lt,e=g("u"),e&&"\\"!==e&&u(e.charCodeAt(0))||R({},at.UnexpectedToken,"ILLEGAL"),t+=e);return t}function b(){var e,t;for(e=lt++;pt>lt;){if(t=ot.charCodeAt(lt),92===t)return lt=e,v();if(!u(t))break;++lt}return ot.slice(e,lt)}function _(){var e,t,r;return e=lt,t=92===ot.charCodeAt(lt)?v():b(),r=1===t.length?Ze.Identifier:p(t)?Ze.Keyword:"null"===t?Ze.NullLiteral:"true"===t||"false"===t?Ze.BooleanLiteral:Ze.Identifier,{type:r,value:t,lineNumber:ct,lineStart:ft,start:e,end:lt}}function w(){var e,t,r,n,a=lt,i=ot.charCodeAt(lt),s=ot[lt];switch(i){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++lt,mt.tokenize&&(40===i?mt.openParenToken=mt.tokens.length:123===i&&(mt.openCurlyToken=mt.tokens.length)),{type:Ze.Punctuator,value:String.fromCharCode(i),lineNumber:ct,lineStart:ft,start:a,end:lt};default:if(e=ot.charCodeAt(lt+1),61===e)switch(i){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return lt+=2,{type:Ze.Punctuator,value:String.fromCharCode(i)+String.fromCharCode(e),lineNumber:ct,lineStart:ft,start:a,end:lt};case 33:case 61:return lt+=2,61===ot.charCodeAt(lt)&&++lt,{type:Ze.Punctuator,value:ot.slice(a,lt),lineNumber:ct,lineStart:ft,start:a,end:lt}}}return n=ot.substr(lt,4),">>>="===n?(lt+=4,{type:Ze.Punctuator,value:n,lineNumber:ct,lineStart:ft,start:a,end:lt}):(r=n.substr(0,3),">>>"===r||"<<="===r||">>="===r?(lt+=3,{type:Ze.Punctuator,value:r,lineNumber:ct,lineStart:ft,start:a,end:lt}):(t=r.substr(0,2),s===t[1]&&"+-<>&|".indexOf(s)>=0||"=>"===t?(lt+=2,{type:Ze.Punctuator,value:t,lineNumber:ct,lineStart:ft,start:a,end:lt}):"<>=!+-*%&|^/".indexOf(s)>=0?(++lt,{type:Ze.Punctuator,value:s,lineNumber:ct,lineStart:ft,start:a,end:lt}):void R({},at.UnexpectedToken,"ILLEGAL")))}function k(e){for(var t="";pt>lt&&n(ot[lt]);)t+=ot[lt++];return 0===t.length&&R({},at.UnexpectedToken,"ILLEGAL"),o(ot.charCodeAt(lt))&&R({},at.UnexpectedToken,"ILLEGAL"),{type:Ze.NumericLiteral,value:parseInt("0x"+t,16),lineNumber:ct,lineStart:ft,start:e,end:lt}}function S(e){for(var t="0"+ot[lt++];pt>lt&&a(ot[lt]);)t+=ot[lt++];return(o(ot.charCodeAt(lt))||r(ot.charCodeAt(lt)))&&R({},at.UnexpectedToken,"ILLEGAL"),{type:Ze.NumericLiteral,value:parseInt(t,8),octal:!0,lineNumber:ct,lineStart:ft,start:e,end:lt}}function x(){var e,t;for(e=lt+1;pt>e;++e){if(t=ot[e],"8"===t||"9"===t)return!1;if(!a(t))return!0}return!0}function E(){var e,n,i;if(i=ot[lt],t(r(i.charCodeAt(0))||"."===i,"Numeric literal must start with a decimal digit or a decimal point"),n=lt,e="","."!==i){if(e=ot[lt++],i=ot[lt],"0"===e){if("x"===i||"X"===i)return++lt,k(n);if(a(i)&&x())return S(n)}for(;r(ot.charCodeAt(lt));)e+=ot[lt++];i=ot[lt]}if("."===i){for(e+=ot[lt++];r(ot.charCodeAt(lt));)e+=ot[lt++];i=ot[lt]}if("e"===i||"E"===i)if(e+=ot[lt++],i=ot[lt],("+"===i||"-"===i)&&(e+=ot[lt++]),r(ot.charCodeAt(lt)))for(;r(ot.charCodeAt(lt));)e+=ot[lt++];else R({},at.UnexpectedToken,"ILLEGAL");return o(ot.charCodeAt(lt))&&R({},at.UnexpectedToken,"ILLEGAL"),{type:Ze.NumericLiteral,value:parseFloat(e),lineNumber:ct,lineStart:ft,start:n,end:lt}}function A(){var e,r,n,i,o,u,l,c,f="",p=!1;for(l=ct,c=ft,e=ot[lt],t("'"===e||'"'===e,"String literal must starts with a quote"),r=lt,++lt;pt>lt;){if(n=ot[lt++],n===e){e="";break}if("\\"===n)if(n=ot[lt++],n&&s(n.charCodeAt(0)))++ct,"\r"===n&&"\n"===ot[lt]&&++lt,ft=lt;else switch(n){case"u":case"x":u=lt,o=g(n),o?f+=o:(lt=u,f+=n);break;case"n":f+="\n";break;case"r":f+="\r";break;case"t":f+="\t";break;case"b":f+="\b";break;case"f":f+="\f";break;case"v":f+="\v";break;default:a(n)?(i="01234567".indexOf(n),0!==i&&(p=!0),pt>lt&&a(ot[lt])&&(p=!0,i=8*i+"01234567".indexOf(ot[lt++]),"0123".indexOf(n)>=0&&pt>lt&&a(ot[lt])&&(i=8*i+"01234567".indexOf(ot[lt++]))),f+=String.fromCharCode(i)):f+=n}else{if(s(n.charCodeAt(0)))break;f+=n}}return""!==e&&R({},at.UnexpectedToken,"ILLEGAL"),{type:Ze.StringLiteral,value:f,octal:p,startLineNumber:l,startLineStart:c,lineNumber:ct,lineStart:ft,start:r,end:lt}}function I(e,t){var r;try{r=new RegExp(e,t)}catch(e){R({},at.InvalidRegExp)}return r}function j(){var e,r,n,a,i;for(e=ot[lt],t("/"===e,"Regular expression literal must start with a slash"),r=ot[lt++],n=!1,a=!1;pt>lt;)if(e=ot[lt++],r+=e,"\\"===e)e=ot[lt++],s(e.charCodeAt(0))&&R({},at.UnterminatedRegExp),r+=e;else if(s(e.charCodeAt(0)))R({},at.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){a=!0;break}"["===e&&(n=!0)}return a||R({},at.UnterminatedRegExp),i=r.substr(1,r.length-2),{value:i,literal:r}}function C(){var e,t,r,n;for(t="",r="";pt>lt&&(e=ot[lt],u(e.charCodeAt(0)));)if(++lt,"\\"===e&&pt>lt)if(e=ot[lt],"u"===e){if(++lt,n=lt,e=g("u"))for(r+=e,t+="\\u";lt>n;++n)t+=ot[n];else lt=n,r+="u",t+="\\u";B({},at.UnexpectedToken,"ILLEGAL")}else t+="\\",B({},at.UnexpectedToken,"ILLEGAL");else r+=e,t+=e;return{value:r,literal:t}}function L(){var e,t,r,n;return dt=null,m(),e=lt,t=j(),r=C(),n=I(t.value,r.value),mt.tokenize?{type:Ze.RegularExpression,value:n,lineNumber:ct,lineStart:ft,start:e,end:lt}:{literal:t.literal+r.literal,value:n,start:e,end:lt}}function V(){var e,t,r,n;return m(),e=lt,t={start:{line:ct,column:lt-ft}},r=L(),t.end={line:ct,column:lt-ft},mt.tokenize||(mt.tokens.length>0&&(n=mt.tokens[mt.tokens.length-1],n.range[0]===e&&"Punctuator"===n.type&&("/"===n.value||"/="===n.value)&&mt.tokens.pop()),mt.tokens.push({type:"RegularExpression",value:r.literal,range:[e,lt],loc:t})),r}function N(e){return e.type===Ze.Identifier||e.type===Ze.Keyword||e.type===Ze.BooleanLiteral||e.type===Ze.NullLiteral}function O(){var e,t;if(e=mt.tokens[mt.tokens.length-1],!e)return V();if("Punctuator"===e.type){if("]"===e.value)return w();if(")"===e.value)return t=mt.tokens[mt.openParenToken-1],!t||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?w():V();if("}"===e.value){if(mt.tokens[mt.openCurlyToken-3]&&"Keyword"===mt.tokens[mt.openCurlyToken-3].type){if(t=mt.tokens[mt.openCurlyToken-4],!t)return w()}else{if(!mt.tokens[mt.openCurlyToken-4]||"Keyword"!==mt.tokens[mt.openCurlyToken-4].type)return w();if(t=mt.tokens[mt.openCurlyToken-5],!t)return V()}return tt.indexOf(t.value)>=0?w():V()}return V()}return"Keyword"===e.type&&"this"!==e.value?V():w()}function P(){var e;return m(),lt>=pt?{type:Ze.EOF,lineNumber:ct,lineStart:ft,start:lt,end:lt}:(e=ot.charCodeAt(lt),o(e)?_():40===e||41===e||59===e?w():39===e||34===e?A():46===e?r(ot.charCodeAt(lt+1))?E():w():r(e)?E():mt.tokenize&&47===e?O():w())}function M(){var e,t,r;return m(),e={start:{line:ct,column:lt-ft}},t=P(),e.end={line:ct,column:lt-ft},t.type!==Ze.EOF&&(r=ot.slice(t.start,t.end),mt.tokens.push({type:et[t.type],value:r,range:[t.start,t.end],loc:e})),t}function F(){var e;return e=dt,lt=e.end,ct=e.lineNumber,ft=e.lineStart,dt="undefined"!=typeof mt.tokens?M():P(),lt=e.end,ct=e.lineNumber,ft=e.lineStart,e}function T(){var e,t,r;e=lt,t=ct,r=ft,dt="undefined"!=typeof mt.tokens?M():P(),lt=e,ct=t,ft=r}function q(e,t){this.line=e,this.column=t}function U(e,t,r,n){this.start=new q(e,t),this.end=new q(r,n)}function D(){var e,t,r,n;return e=lt,t=ct,r=ft,m(),n=ct!==t,lt=e,ct=t,ft=r,n}function R(e,r){var n,a=Array.prototype.slice.call(arguments,2),i=r.replace(/%(\d)/g,function(e,r){return t(r<a.length,"Message reference must be in range"),a[r]});throw"number"==typeof e.lineNumber?(n=new Error("Line "+e.lineNumber+": "+i),n.index=e.start,n.lineNumber=e.lineNumber,n.column=e.start-ft+1):(n=new Error("Line "+ct+": "+i),n.index=lt,n.lineNumber=ct,n.column=lt-ft+1),n.description=i,n}function B(){try{R.apply(null,arguments)}catch(e){if(!mt.errors)throw e;mt.errors.push(e)}}function z(e){if(e.type===Ze.EOF&&R(e,at.UnexpectedEOS),e.type===Ze.NumericLiteral&&R(e,at.UnexpectedNumber),e.type===Ze.StringLiteral&&R(e,at.UnexpectedString),e.type===Ze.Identifier&&R(e,at.UnexpectedIdentifier),e.type===Ze.Keyword){if(l(e.value))R(e,at.UnexpectedReserved);else if(ut&&c(e.value))return void B(e,at.StrictReservedWord);R(e,at.UnexpectedToken,e.value)}R(e,at.UnexpectedToken,e.value)}function G(e){var t=F();(t.type!==Ze.Punctuator||t.value!==e)&&z(t)}function W(e){var t=F();(t.type!==Ze.Keyword||t.value!==e)&&z(t)}function K(e){return dt.type===Ze.Punctuator&&dt.value===e}function H(e){return dt.type===Ze.Keyword&&dt.value===e}function $(){var e;return dt.type===Ze.Punctuator&&(e=dt.value,"="===e||"*="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e)}function X(){var e,t=lt,r=ct,n=ft,a=dt;return 59===ot.charCodeAt(lt)||K(";")?void F():(e=ct,m(),ct!==e?(lt=t,ct=r,ft=n,void(dt=a)):void(dt.type===Ze.EOF||K("}")||z(dt)))}function Y(e){return e.type===rt.Identifier||e.type===rt.MemberExpression}function J(){var e,t=[];for(e=dt,G("[");!K("]");)K(",")?(F(),t.push(null)):(t.push(me()),K("]")||G(","));return F(),ht.markEnd(ht.createArrayExpression(t),e)}function Q(e,t){var r,n,a;return r=ut,a=dt,n=ze(),t&&ut&&f(e[0].name)&&B(t,at.StrictParamName),ut=r,ht.markEnd(ht.createFunctionExpression(null,e,[],n),a)}function Z(){var e,t;return t=dt,e=F(),e.type===Ze.StringLiteral||e.type===Ze.NumericLiteral?(ut&&e.octal&&B(e,at.StrictOctalLiteral),ht.markEnd(ht.createLiteral(e),t)):ht.markEnd(ht.createIdentifier(e.value),t)}function ee(){var e,t,r,n,a,i;return e=dt,i=dt,e.type===Ze.Identifier?(r=Z(),"get"!==e.value||K(":")?"set"!==e.value||K(":")?(G(":"),n=me(),ht.markEnd(ht.createProperty("init",r,n),i)):(t=Z(),G("("),e=dt,e.type!==Ze.Identifier?(G(")"),B(e,at.UnexpectedToken,e.value),n=Q([])):(a=[_e()],G(")"),n=Q(a,e)),ht.markEnd(ht.createProperty("set",t,n),i)):(t=Z(),G("("),G(")"),n=Q([]),ht.markEnd(ht.createProperty("get",t,n),i))):e.type!==Ze.EOF&&e.type!==Ze.Punctuator?(t=Z(),G(":"),n=me(),ht.markEnd(ht.createProperty("init",t,n),i)):void z(e)}function te(){var e,t,r,n,a,i=[],s={},o=String;for(a=dt,G("{");!K("}");)e=ee(),t=e.key.type===rt.Identifier?e.key.name:o(e.key.value),n="init"===e.kind?nt.Data:"get"===e.kind?nt.Get:nt.Set,r="$"+t,Object.prototype.hasOwnProperty.call(s,r)?(s[r]===nt.Data?ut&&n===nt.Data?B({},at.StrictDuplicateProperty):n!==nt.Data&&B({},at.AccessorDataProperty):n===nt.Data?B({},at.AccessorDataProperty):s[r]&n&&B({},at.AccessorGetSet),s[r]|=n):s[r]=n,i.push(e),K("}")||G(",");return G("}"),ht.markEnd(ht.createObjectExpression(i),a)}function re(){var e;return G("("),e=ge(),G(")"),e}function ne(){var e,t,r,n;if(K("("))return re();if(K("["))return J();if(K("{"))return te();if(e=dt.type,n=dt,e===Ze.Identifier)r=ht.createIdentifier(F().value);else if(e===Ze.StringLiteral||e===Ze.NumericLiteral)ut&&dt.octal&&B(dt,at.StrictOctalLiteral),r=ht.createLiteral(F());else if(e===Ze.Keyword){if(H("function"))return Ke();H("this")?(F(),r=ht.createThisExpression()):z(F())}else e===Ze.BooleanLiteral?(t=F(),t.value="true"===t.value,r=ht.createLiteral(t)):e===Ze.NullLiteral?(t=F(),t.value=null,r=ht.createLiteral(t)):K("/")||K("/=")?(r="undefined"!=typeof mt.tokens?ht.createLiteral(V()):ht.createLiteral(L()),T()):z(F());return ht.markEnd(r,n)}function ae(){var e=[];if(G("("),!K(")"))for(;pt>lt&&(e.push(me()),!K(")"));)G(",");return G(")"),e}function ie(){var e,t;return t=dt,e=F(),N(e)||z(e),ht.markEnd(ht.createIdentifier(e.value),t)}function se(){return G("."),ie()}function oe(){var e;return G("["),e=ge(),G("]"),e}function ue(){var e,t,r;return r=dt,W("new"),e=ce(),t=K("(")?ae():[],ht.markEnd(ht.createNewExpression(e,t),r)}function le(){var e,t,r,n,a=yt.allowIn;for(n=dt,yt.allowIn=!0,e=H("new")?ue():ne();;){if(K("."))r=se(),e=ht.createMemberExpression(".",e,r);else if(K("("))t=ae(),e=ht.createCallExpression(e,t);else{if(!K("["))break;r=oe(),e=ht.createMemberExpression("[",e,r)}ht.markEnd(e,n)}return yt.allowIn=a,e}function ce(){var e,r,n;for(t(yt.allowIn,"callee of new expression always allow in keyword."),n=dt,e=H("new")?ue():ne();K(".")||K("[");)K("[")?(r=oe(),e=ht.createMemberExpression("[",e,r)):(r=se(),e=ht.createMemberExpression(".",e,r)),ht.markEnd(e,n);return e}function fe(){var e,t,r=dt;return e=le(),dt.type===Ze.Punctuator&&(!K("++")&&!K("--")||D()||(ut&&e.type===rt.Identifier&&f(e.name)&&B({},at.StrictLHSPostfix),Y(e)||B({},at.InvalidLHSInAssignment),t=F(),e=ht.markEnd(ht.createPostfixExpression(t.value,e),r))),e}function pe(){var e,t,r;return dt.type!==Ze.Punctuator&&dt.type!==Ze.Keyword?t=fe():K("++")||K("--")?(r=dt,e=F(),t=pe(),ut&&t.type===rt.Identifier&&f(t.name)&&B({},at.StrictLHSPrefix),Y(t)||B({},at.InvalidLHSInAssignment),t=ht.createUnaryExpression(e.value,t),t=ht.markEnd(t,r)):K("+")||K("-")||K("~")||K("!")?(r=dt,e=F(),t=pe(),t=ht.createUnaryExpression(e.value,t),t=ht.markEnd(t,r)):H("delete")||H("void")||H("typeof")?(r=dt,e=F(),t=pe(),t=ht.createUnaryExpression(e.value,t),t=ht.markEnd(t,r),ut&&"delete"===t.operator&&t.argument.type===rt.Identifier&&B({},at.StrictDelete)):t=fe(),t}function he(e,t){var r=0;if(e.type!==Ze.Punctuator&&e.type!==Ze.Keyword)return 0;switch(e.value){case"||":r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">=":case"instanceof":r=7;break;case"in":r=t?7:0;break;case"<<":case">>":case">>>":r=8;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11}return r}function de(){var e,t,r,n,a,i,s,o,u,l;if(e=dt,u=pe(),n=dt,a=he(n,yt.allowIn),0===a)return u;for(n.prec=a,F(),t=[e,dt],s=pe(),i=[u,n,s];(a=he(dt,yt.allowIn))>0;){for(;i.length>2&&a<=i[i.length-2].prec;)s=i.pop(),o=i.pop().value,u=i.pop(),r=ht.createBinaryExpression(o,u,s),t.pop(),e=t[t.length-1],ht.markEnd(r,e),i.push(r);n=F(),n.prec=a,i.push(n),t.push(dt),r=pe(),i.push(r)}for(l=i.length-1,r=i[l],t.pop();l>1;)r=ht.createBinaryExpression(i[l-1].value,i[l-2],r),l-=2,e=t.pop(),ht.markEnd(r,e);return r}function ye(){var e,t,r,n,a;return a=dt,e=de(),K("?")&&(F(),t=yt.allowIn,yt.allowIn=!0,r=me(),yt.allowIn=t,G(":"),n=me(),e=ht.createConditionalExpression(e,r,n),ht.markEnd(e,a)),e}function me(){var e,t,r,n,a;return e=dt,a=dt,n=t=ye(),$()&&(Y(t)||B({},at.InvalidLHSInAssignment),ut&&t.type===rt.Identifier&&f(t.name)&&B(e,at.StrictLHSAssignment),e=F(),r=me(),n=ht.markEnd(ht.createAssignmentExpression(e.value,t,r),a)),n}function ge(){var e,t=dt;if(e=me(),K(",")){for(e=ht.createSequenceExpression([e]);pt>lt&&K(",");)F(),e.expressions.push(me());ht.markEnd(e,t)}return e}function ve(){for(var e,t=[];pt>lt&&!K("}")&&(e=He(),"undefined"!=typeof e);)t.push(e);return t}function be(){var e,t;return t=dt,G("{"),e=ve(),G("}"),ht.markEnd(ht.createBlockStatement(e),t)}function _e(){var e,t;return t=dt,e=F(),e.type!==Ze.Identifier&&z(e),ht.markEnd(ht.createIdentifier(e.value),t)}function we(e){var t,r,n=null;return r=dt,t=_e(),ut&&f(t.name)&&B({},at.StrictVarName),"const"===e?(G("="),n=me()):K("=")&&(F(),n=me()),ht.markEnd(ht.createVariableDeclarator(t,n),r);
}function ke(e){var t=[];do{if(t.push(we(e)),!K(","))break;F()}while(pt>lt);return t}function Se(){var e;return W("var"),e=ke(),X(),ht.createVariableDeclaration(e,"var")}function xe(e){var t,r;return r=dt,W(e),t=ke(e),X(),ht.markEnd(ht.createVariableDeclaration(t,e),r)}function Ee(){return G(";"),ht.createEmptyStatement()}function Ae(){var e=ge();return X(),ht.createExpressionStatement(e)}function Ie(){var e,t,r;return W("if"),G("("),e=ge(),G(")"),t=Be(),H("else")?(F(),r=Be()):r=null,ht.createIfStatement(e,t,r)}function je(){var e,t,r;return W("do"),r=yt.inIteration,yt.inIteration=!0,e=Be(),yt.inIteration=r,W("while"),G("("),t=ge(),G(")"),K(";")&&F(),ht.createDoWhileStatement(e,t)}function Ce(){var e,t,r;return W("while"),G("("),e=ge(),G(")"),r=yt.inIteration,yt.inIteration=!0,t=Be(),yt.inIteration=r,ht.createWhileStatement(e,t)}function Le(){var e,t,r;return r=dt,e=F(),t=ke(),ht.markEnd(ht.createVariableDeclaration(t,e.value),r)}function Ve(){var e,t,r,n,a,i,s,o=yt.allowIn;return e=t=r=null,W("for"),G("("),K(";")?F():(H("var")||H("let")?(yt.allowIn=!1,e=Le(),yt.allowIn=o,1===e.declarations.length&&H("in")&&(F(),n=e,a=ge(),e=null)):(yt.allowIn=!1,e=ge(),yt.allowIn=o,H("in")&&(Y(e)||B({},at.InvalidLHSInForIn),F(),n=e,a=ge(),e=null)),"undefined"==typeof n&&G(";")),"undefined"==typeof n&&(K(";")||(t=ge()),G(";"),K(")")||(r=ge())),G(")"),s=yt.inIteration,yt.inIteration=!0,i=Be(),yt.inIteration=s,"undefined"==typeof n?ht.createForStatement(e,t,r,i):ht.createForInStatement(n,a,i)}function Ne(){var e,t=null;return W("continue"),59===ot.charCodeAt(lt)?(F(),yt.inIteration||R({},at.IllegalContinue),ht.createContinueStatement(null)):D()?(yt.inIteration||R({},at.IllegalContinue),ht.createContinueStatement(null)):(dt.type===Ze.Identifier&&(t=_e(),e="$"+t.name,Object.prototype.hasOwnProperty.call(yt.labelSet,e)||R({},at.UnknownLabel,t.name)),X(),null!==t||yt.inIteration||R({},at.IllegalContinue),ht.createContinueStatement(t))}function Oe(){var e,t=null;return W("break"),59===ot.charCodeAt(lt)?(F(),yt.inIteration||yt.inSwitch||R({},at.IllegalBreak),ht.createBreakStatement(null)):D()?(yt.inIteration||yt.inSwitch||R({},at.IllegalBreak),ht.createBreakStatement(null)):(dt.type===Ze.Identifier&&(t=_e(),e="$"+t.name,Object.prototype.hasOwnProperty.call(yt.labelSet,e)||R({},at.UnknownLabel,t.name)),X(),null!==t||yt.inIteration||yt.inSwitch||R({},at.IllegalBreak),ht.createBreakStatement(t))}function Pe(){var e=null;return W("return"),yt.inFunctionBody||B({},at.IllegalReturn),32===ot.charCodeAt(lt)&&o(ot.charCodeAt(lt+1))?(e=ge(),X(),ht.createReturnStatement(e)):D()?ht.createReturnStatement(null):(K(";")||K("}")||dt.type===Ze.EOF||(e=ge()),X(),ht.createReturnStatement(e))}function Me(){var e,t;return ut&&(m(),B({},at.StrictModeWith)),W("with"),G("("),e=ge(),G(")"),t=Be(),ht.createWithStatement(e,t)}function Fe(){var e,t,r,n=[];for(r=dt,H("default")?(F(),e=null):(W("case"),e=ge()),G(":");pt>lt&&!(K("}")||H("default")||H("case"));)t=Be(),n.push(t);return ht.markEnd(ht.createSwitchCase(e,n),r)}function Te(){var e,t,r,n,a;if(W("switch"),G("("),e=ge(),G(")"),G("{"),t=[],K("}"))return F(),ht.createSwitchStatement(e,t);for(n=yt.inSwitch,yt.inSwitch=!0,a=!1;pt>lt&&!K("}");)r=Fe(),null===r.test&&(a&&R({},at.MultipleDefaultsInSwitch),a=!0),t.push(r);return yt.inSwitch=n,G("}"),ht.createSwitchStatement(e,t)}function qe(){var e;return W("throw"),D()&&R({},at.NewlineAfterThrow),e=ge(),X(),ht.createThrowStatement(e)}function Ue(){var e,t,r;return r=dt,W("catch"),G("("),K(")")&&z(dt),e=_e(),ut&&f(e.name)&&B({},at.StrictCatchVariable),G(")"),t=be(),ht.markEnd(ht.createCatchClause(e,t),r)}function De(){var e,t=[],r=null;return W("try"),e=be(),H("catch")&&t.push(Ue()),H("finally")&&(F(),r=be()),0!==t.length||r||R({},at.NoCatchOrFinally),ht.createTryStatement(e,[],t,r)}function Re(){return W("debugger"),X(),ht.createDebuggerStatement()}function Be(){var e,t,r,n,a=dt.type;if(a===Ze.EOF&&z(dt),a===Ze.Punctuator&&"{"===dt.value)return be();if(n=dt,a===Ze.Punctuator)switch(dt.value){case";":return ht.markEnd(Ee(),n);case"(":return ht.markEnd(Ae(),n)}if(a===Ze.Keyword)switch(dt.value){case"break":return ht.markEnd(Oe(),n);case"continue":return ht.markEnd(Ne(),n);case"debugger":return ht.markEnd(Re(),n);case"do":return ht.markEnd(je(),n);case"for":return ht.markEnd(Ve(),n);case"function":return ht.markEnd(We(),n);case"if":return ht.markEnd(Ie(),n);case"return":return ht.markEnd(Pe(),n);case"switch":return ht.markEnd(Te(),n);case"throw":return ht.markEnd(qe(),n);case"try":return ht.markEnd(De(),n);case"var":return ht.markEnd(Se(),n);case"while":return ht.markEnd(Ce(),n);case"with":return ht.markEnd(Me(),n)}return e=ge(),e.type===rt.Identifier&&K(":")?(F(),r="$"+e.name,Object.prototype.hasOwnProperty.call(yt.labelSet,r)&&R({},at.Redeclaration,"Label",e.name),yt.labelSet[r]=!0,t=Be(),delete yt.labelSet[r],ht.markEnd(ht.createLabeledStatement(e,t),n)):(X(),ht.markEnd(ht.createExpressionStatement(e),n))}function ze(){var e,t,r,n,a,i,s,o,u,l=[];for(u=dt,G("{");pt>lt&&dt.type===Ze.StringLiteral&&(t=dt,e=He(),l.push(e),e.expression.type===rt.Literal);)r=ot.slice(t.start+1,t.end-1),"use strict"===r?(ut=!0,n&&B(n,at.StrictOctalLiteral)):!n&&t.octal&&(n=t);for(a=yt.labelSet,i=yt.inIteration,s=yt.inSwitch,o=yt.inFunctionBody,yt.labelSet={},yt.inIteration=!1,yt.inSwitch=!1,yt.inFunctionBody=!0;pt>lt&&!K("}")&&(e=He(),"undefined"!=typeof e);)l.push(e);return G("}"),yt.labelSet=a,yt.inIteration=i,yt.inSwitch=s,yt.inFunctionBody=o,ht.markEnd(ht.createBlockStatement(l),u)}function Ge(e){var t,r,n,a,i,s,o=[];if(G("("),!K(")"))for(a={};pt>lt&&(r=dt,t=_e(),i="$"+r.value,ut?(f(r.value)&&(n=r,s=at.StrictParamName),Object.prototype.hasOwnProperty.call(a,i)&&(n=r,s=at.StrictParamDupe)):e||(f(r.value)?(e=r,s=at.StrictParamName):c(r.value)?(e=r,s=at.StrictReservedWord):Object.prototype.hasOwnProperty.call(a,i)&&(e=r,s=at.StrictParamDupe)),o.push(t),a[i]=!0,!K(")"));)G(",");return G(")"),{params:o,stricted:n,firstRestricted:e,message:s}}function We(){var e,t,r,n,a,i,s,o,u,l=[];return u=dt,W("function"),r=dt,e=_e(),ut?f(r.value)&&B(r,at.StrictFunctionName):f(r.value)?(i=r,s=at.StrictFunctionName):c(r.value)&&(i=r,s=at.StrictReservedWord),a=Ge(i),l=a.params,n=a.stricted,i=a.firstRestricted,a.message&&(s=a.message),o=ut,t=ze(),ut&&i&&R(i,s),ut&&n&&B(n,s),ut=o,ht.markEnd(ht.createFunctionDeclaration(e,l,[],t),u)}function Ke(){var e,t,r,n,a,i,s,o,u=null,l=[];return o=dt,W("function"),K("(")||(e=dt,u=_e(),ut?f(e.value)&&B(e,at.StrictFunctionName):f(e.value)?(r=e,n=at.StrictFunctionName):c(e.value)&&(r=e,n=at.StrictReservedWord)),a=Ge(r),l=a.params,t=a.stricted,r=a.firstRestricted,a.message&&(n=a.message),s=ut,i=ze(),ut&&r&&R(r,n),ut&&t&&B(t,n),ut=s,ht.markEnd(ht.createFunctionExpression(u,l,[],i),o)}function He(){if(dt.type===Ze.Keyword)switch(dt.value){case"const":case"let":return xe(dt.value);case"function":return We();default:return Be()}return dt.type!==Ze.EOF?Be():void 0}function $e(){for(var e,t,r,n,a=[];pt>lt&&(t=dt,t.type===Ze.StringLiteral)&&(e=He(),a.push(e),e.expression.type===rt.Literal);)r=ot.slice(t.start+1,t.end-1),"use strict"===r?(ut=!0,n&&B(n,at.StrictOctalLiteral)):!n&&t.octal&&(n=t);for(;pt>lt&&(e=He(),"undefined"!=typeof e);)a.push(e);return a}function Xe(){var e,t;return m(),T(),t=dt,ut=!1,e=$e(),ht.markEnd(ht.createProgram(e),t)}function Ye(){var e,t,r,n=[];for(e=0;e<mt.tokens.length;++e)t=mt.tokens[e],r={type:t.type,value:t.value},mt.range&&(r.range=t.range),mt.loc&&(r.loc=t.loc),n.push(r);mt.tokens=n}function Je(e,t){var r,n,a;r=String,"string"==typeof e||e instanceof String||(e=r(e)),ht=st,ot=e,lt=0,ct=ot.length>0?1:0,ft=0,pt=ot.length,dt=null,yt={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},mt={},t=t||{},t.tokens=!0,mt.tokens=[],mt.tokenize=!0,mt.openParenToken=-1,mt.openCurlyToken=-1,mt.range="boolean"==typeof t.range&&t.range,mt.loc="boolean"==typeof t.loc&&t.loc,"boolean"==typeof t.comment&&t.comment&&(mt.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(mt.errors=[]);try{if(T(),dt.type===Ze.EOF)return mt.tokens;for(n=F();dt.type!==Ze.EOF;)try{n=F()}catch(e){if(n=dt,mt.errors){mt.errors.push(e);break}throw e}Ye(),a=mt.tokens,"undefined"!=typeof mt.comments&&(a.comments=mt.comments),"undefined"!=typeof mt.errors&&(a.errors=mt.errors)}catch(e){throw e}finally{mt={}}return a}function Qe(e,t){var r,n;n=String,"string"==typeof e||e instanceof String||(e=n(e)),ht=st,ot=e,lt=0,ct=ot.length>0?1:0,ft=0,pt=ot.length,dt=null,yt={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},mt={},"undefined"!=typeof t&&(mt.range="boolean"==typeof t.range&&t.range,mt.loc="boolean"==typeof t.loc&&t.loc,mt.attachComment="boolean"==typeof t.attachComment&&t.attachComment,mt.loc&&null!==t.source&&void 0!==t.source&&(mt.source=n(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(mt.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(mt.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(mt.errors=[]),mt.attachComment&&(mt.range=!0,mt.comments=[],mt.bottomRightStack=[],mt.trailingComments=[],mt.leadingComments=[]));try{r=Xe(),"undefined"!=typeof mt.comments&&(r.comments=mt.comments),"undefined"!=typeof mt.tokens&&(Ye(),r.tokens=mt.tokens),"undefined"!=typeof mt.errors&&(r.errors=mt.errors)}catch(e){throw e}finally{mt={}}return r}var Ze,et,tt,rt,nt,at,it,st,ot,ut,lt,ct,ft,pt,ht,dt,yt,mt;Ze={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},et={},et[Ze.BooleanLiteral]="Boolean",et[Ze.EOF]="<end>",et[Ze.Identifier]="Identifier",et[Ze.Keyword]="Keyword",et[Ze.NullLiteral]="Null",et[Ze.NumericLiteral]="Numeric",et[Ze.Punctuator]="Punctuator",et[Ze.StringLiteral]="String",et[Ze.RegularExpression]="RegularExpression",tt=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],rt={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},nt={Data:1,Get:2,Set:4},at={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},it={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},st={name:"SyntaxTree",processComment:function(e){var t,r;if(!(e.type===rt.Program&&e.body.length>0)){for(mt.trailingComments.length>0?mt.trailingComments[0].range[0]>=e.range[1]?(r=mt.trailingComments,mt.trailingComments=[]):mt.trailingComments.length=0:mt.bottomRightStack.length>0&&mt.bottomRightStack[mt.bottomRightStack.length-1].trailingComments&&mt.bottomRightStack[mt.bottomRightStack.length-1].trailingComments[0].range[0]>=e.range[1]&&(r=mt.bottomRightStack[mt.bottomRightStack.length-1].trailingComments,delete mt.bottomRightStack[mt.bottomRightStack.length-1].trailingComments);mt.bottomRightStack.length>0&&mt.bottomRightStack[mt.bottomRightStack.length-1].range[0]>=e.range[0];)t=mt.bottomRightStack.pop();t?t.leadingComments&&t.leadingComments[t.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=t.leadingComments,delete t.leadingComments):mt.leadingComments.length>0&&mt.leadingComments[mt.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=mt.leadingComments,mt.leadingComments=[]),r&&(e.trailingComments=r),mt.bottomRightStack.push(e)}},markEnd:function(e,t){return mt.range&&(e.range=[t.start,lt]),mt.loc&&(e.loc=new U(void 0===t.startLineNumber?t.lineNumber:t.startLineNumber,t.start-(void 0===t.startLineStart?t.lineStart:t.startLineStart),ct,lt-ft),this.postProcess(e)),mt.attachComment&&this.processComment(e),e},postProcess:function(e){return mt.source&&(e.loc.source=mt.source),e},createArrayExpression:function(e){return{type:rt.ArrayExpression,elements:e}},createAssignmentExpression:function(e,t,r){return{type:rt.AssignmentExpression,operator:e,left:t,right:r}},createBinaryExpression:function(e,t,r){var n="||"===e||"&&"===e?rt.LogicalExpression:rt.BinaryExpression;return{type:n,operator:e,left:t,right:r}},createBlockStatement:function(e){return{type:rt.BlockStatement,body:e}},createBreakStatement:function(e){return{type:rt.BreakStatement,label:e}},createCallExpression:function(e,t){return{type:rt.CallExpression,callee:e,arguments:t}},createCatchClause:function(e,t){return{type:rt.CatchClause,param:e,body:t}},createConditionalExpression:function(e,t,r){return{type:rt.ConditionalExpression,test:e,consequent:t,alternate:r}},createContinueStatement:function(e){return{type:rt.ContinueStatement,label:e}},createDebuggerStatement:function(){return{type:rt.DebuggerStatement}},createDoWhileStatement:function(e,t){return{type:rt.DoWhileStatement,body:e,test:t}},createEmptyStatement:function(){return{type:rt.EmptyStatement}},createExpressionStatement:function(e){return{type:rt.ExpressionStatement,expression:e}},createForStatement:function(e,t,r,n){return{type:rt.ForStatement,init:e,test:t,update:r,body:n}},createForInStatement:function(e,t,r){return{type:rt.ForInStatement,left:e,right:t,body:r,each:!1}},createFunctionDeclaration:function(e,t,r,n){return{type:rt.FunctionDeclaration,id:e,params:t,defaults:r,body:n,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(e,t,r,n){return{type:rt.FunctionExpression,id:e,params:t,defaults:r,body:n,rest:null,generator:!1,expression:!1}},createIdentifier:function(e){return{type:rt.Identifier,name:e}},createIfStatement:function(e,t,r){return{type:rt.IfStatement,test:e,consequent:t,alternate:r}},createLabeledStatement:function(e,t){return{type:rt.LabeledStatement,label:e,body:t}},createLiteral:function(e){return{type:rt.Literal,value:e.value,raw:ot.slice(e.start,e.end)}},createMemberExpression:function(e,t,r){return{type:rt.MemberExpression,computed:"["===e,object:t,property:r}},createNewExpression:function(e,t){return{type:rt.NewExpression,callee:e,arguments:t}},createObjectExpression:function(e){return{type:rt.ObjectExpression,properties:e}},createPostfixExpression:function(e,t){return{type:rt.UpdateExpression,operator:e,argument:t,prefix:!1}},createProgram:function(e){return{type:rt.Program,body:e}},createProperty:function(e,t,r){return{type:rt.Property,key:t,value:r,kind:e}},createReturnStatement:function(e){return{type:rt.ReturnStatement,argument:e}},createSequenceExpression:function(e){return{type:rt.SequenceExpression,expressions:e}},createSwitchCase:function(e,t){return{type:rt.SwitchCase,test:e,consequent:t}},createSwitchStatement:function(e,t){return{type:rt.SwitchStatement,discriminant:e,cases:t}},createThisExpression:function(){return{type:rt.ThisExpression}},createThrowStatement:function(e){return{type:rt.ThrowStatement,argument:e}},createTryStatement:function(e,t,r,n){return{type:rt.TryStatement,block:e,guardedHandlers:t,handlers:r,finalizer:n}},createUnaryExpression:function(e,t){return"++"===e||"--"===e?{type:rt.UpdateExpression,operator:e,argument:t,prefix:!0}:{type:rt.UnaryExpression,operator:e,argument:t,prefix:!0}},createVariableDeclaration:function(e,t){return{type:rt.VariableDeclaration,declarations:e,kind:t}},createVariableDeclarator:function(e,t){return{type:rt.VariableDeclarator,id:e,init:t}},createWhileStatement:function(e,t){return{type:rt.WhileStatement,test:e,body:t}},createWithStatement:function(e,t){return{type:rt.WithStatement,object:e,body:t}}},e.version="1.2.5",e.tokenize=Je,e.parse=Qe,e.Syntax=function(){var e,t={};"function"==typeof Object.create&&(t=Object.create(null));for(e in rt)rt.hasOwnProperty(e)&&(t[e]=rt[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()})},{}],9:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function i(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,i,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[e],o(r))return!1;if(a(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(s(r))for(i=Array.prototype.slice.call(arguments,1),l=r.slice(),n=l.length,u=0;n>u;u++)l[u].apply(this,i);return!0},n.prototype.addListener=function(e,t){var r;if(!a(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(r=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!a(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},n.prototype.removeListener=function(e,t){var r,n,i,o;if(!a(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],i=r.length,n=-1,r===t||a(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(r)){for(o=i;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){n=o;break}if(0>n)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],a(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],10:[function(e,t,r){"use strict";function n(e){for(var t=new Array(e),r=0;e>r;++r)t[r]=r;return t}t.exports=n},{}],11:[function(e,t,r){t.exports=function(e){return!(null==e||!(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)))}},{}],12:[function(e,t,r){"use strict";function n(e){if(!e)return o;for(var t=0;t<e.args.length;++t){var r=e.args[t];0===t?e.args[t]={name:r,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:e.args[t]={name:r,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function a(e){return s({args:e.args,pre:n(e.pre),body:n(e.body),post:n(e.proc),funcName:e.funcName})}function i(e){for(var t=[],r=0;r<e.args.length;++r)t.push("a"+r);var n=new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""));return n(a(e))}var s=e("cwise-compiler"),o={body:"",args:[],thisVars:[],localVars:[]},u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var e in u){var t=u[e];r[e]=i({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),r[e+"eq"]=i({args:["array","array"],body:{args:["a","b"],body:"a"+t+"=b"},rvalue:!0,funcName:e+"eq"}),r[e+"s"]=i({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),r[e+"seq"]=i({args:["array","scalar"],body:{args:["a","s"],body:"a"+t+"=s"},rvalue:!0,funcName:e+"seq"})}}();var l={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var e in l){var t=l[e];r[e]=i({args:["array","array"],body:{args:["a","b"],body:"a="+t+"b"},funcName:e}),r[e+"eq"]=i({args:["array"],body:{args:["a"],body:"a="+t+"a"},rvalue:!0,count:2,funcName:e+"eq"})}}();var c={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var e in c){var t=c[e];r[e]=i({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),r[e+"s"]=i({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),r[e+"eq"]=i({args:["array","array"],body:{args:["a","b"],body:"a=a"+t+"b"},rvalue:!0,count:2,funcName:e+"eq"}),r[e+"seq"]=i({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+t+"s"},rvalue:!0,count:2,funcName:e+"seq"})}}();var f=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var e=0;e<f.length;++e){var t=f[e];r[t]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:t}),r[t+"eq"]=i({args:["array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"})}}();var p=["max","min","atan2","pow"];!function(){for(var e=0;e<p.length;++e){var t=p[e];r[t]=i({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t}),r[t+"s"]=i({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t+"s"}),r[t+"eq"]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"}),r[t+"seq"]=i({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"seq"})}}();var h=["atan2","pow"];!function(){for(var e=0;e<h.length;++e){var t=h[e];r[t+"op"]=i({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"op"}),r[t+"ops"]=i({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"ops"}),r[t+"opeq"]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opeq"}),r[t+"opseq"]=i({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opseq"})}}(),r.any=s({args:["array"],pre:o,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),r.all=s({args:["array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),r.sum=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),r.prod=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),r.norm2squared=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),r.norm2=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),r.norminf=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),r.norm1=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),r.sup=s({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.inf=s({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.argmin=s({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",
lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.argmax=s({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.random=i({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),r.assign=i({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),r.assigns=i({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),r.equals=s({args:["array","array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":1}],13:[function(e,t,r){"use strict";var n=e("ndarray"),a=e("./doConvert.js");t.exports=function(e,t){for(var r=[],i=e,s=1;i instanceof Array;)r.push(i.length),s*=i.length,i=i[0];return 0===r.length?n():(t||(t=n(new Float64Array(s),r)),a(t,e),t)}},{"./doConvert.js":14,ndarray:16}],14:[function(e,t,r){t.exports=e("cwise-compiler")({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},{"cwise-compiler":1}],15:[function(e,t,r){"use strict";var n=e("dup"),a=e("cwise/lib/wrapper")({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_1_a,_inline_1_e=_inline_1_arg1_;for(_inline_1_a=0;_inline_1_a<_inline_1_arg2_.length-1;++_inline_1_a)_inline_1_e=_inline_1_e[_inline_1_arg2_[_inline_1_a]];_inline_1_e[_inline_1_arg2_[_inline_1_arg2_.length-1]]=_inline_1_arg0_}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_a","_inline_1_e"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"unpackCwise",blockSize:64});t.exports=function(e){var t=n(e.shape);return a(e,t),t}},{"cwise/lib/wrapper":6,dup:7}],16:[function(e,t,r){function n(e,t){return e[0]-t[0]}function a(){var e,t=this.stride,r=new Array(t.length);for(e=0;e<r.length;++e)r[e]=[Math.abs(t[e]),e];r.sort(n);var a=new Array(r.length);for(e=0;e<a.length;++e)a[e]=r[e][1];return a}function i(e,t){var r=["View",t,"d",e].join("");0>t&&(r="View_Nil"+e);var n="generic"===e;if(-1===t){var i="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",s=new Function(i);return s()}if(0===t){var i="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",s=new Function("TrivialArray",i);return s(f[e][0])}var i=["'use strict'"],o=u(t),l=o.map(function(e){return"i"+e}),c="this.offset+"+o.map(function(e){return"this.stride["+e+"]*i"+e}).join("+"),p=o.map(function(e){return"b"+e}).join(","),h=o.map(function(e){return"c"+e}).join(",");i.push("function "+r+"(a,"+p+","+h+",d){this.data=a","this.shape=["+p+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),i.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+o.map(function(e){return"this.shape["+e+"]"}).join("*"),"}})"),1===t?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),4>t?(i.push("function "+r+"_order(){"),2===t?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+r+"_set("+l.join(",")+",v){"),n?i.push("return this.data.set("+c+",v)}"):i.push("return this.data["+c+"]=v}"),i.push("proto.get=function "+r+"_get("+l.join(",")+"){"),n?i.push("return this.data.get("+c+")}"):i.push("return this.data["+c+"]}"),i.push("proto.index=function "+r+"_index(",l.join(),"){return "+c+"}"),i.push("proto.hi=function "+r+"_hi("+l.join(",")+"){return new "+r+"(this.data,"+o.map(function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")}).join(",")+","+o.map(function(e){return"this.stride["+e+"]"}).join(",")+",this.offset)}");var d=o.map(function(e){return"a"+e+"=this.shape["+e+"]"}),y=o.map(function(e){return"c"+e+"=this.stride["+e+"]"});i.push("proto.lo=function "+r+"_lo("+l.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+y.join(","));for(var m=0;t>m;++m)i.push("if(typeof i"+m+"==='number'&&i"+m+">=0){d=i"+m+"|0;b+=c"+m+"*d;a"+m+"-=d}");i.push("return new "+r+"(this.data,"+o.map(function(e){return"a"+e}).join(",")+","+o.map(function(e){return"c"+e}).join(",")+",b)}"),i.push("proto.step=function "+r+"_step("+l.join(",")+"){var "+o.map(function(e){return"a"+e+"=this.shape["+e+"]"}).join(",")+","+o.map(function(e){return"b"+e+"=this.stride["+e+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var m=0;t>m;++m)i.push("if(typeof i"+m+"==='number'){d=i"+m+"|0;if(d<0){c+=b"+m+"*(a"+m+"-1);a"+m+"=ceil(-a"+m+"/d)}else{a"+m+"=ceil(a"+m+"/d)}b"+m+"*=d}");i.push("return new "+r+"(this.data,"+o.map(function(e){return"a"+e}).join(",")+","+o.map(function(e){return"b"+e}).join(",")+",c)}");for(var g=new Array(t),v=new Array(t),m=0;t>m;++m)g[m]="a[i"+m+"]",v[m]="b[i"+m+"]";i.push("proto.transpose=function "+r+"_transpose("+l+"){"+l.map(function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+g.join(",")+","+v.join(",")+",this.offset)}"),i.push("proto.pick=function "+r+"_pick("+l+"){var a=[],b=[],c=this.offset");for(var m=0;t>m;++m)i.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+o.map(function(e){return"shape["+e+"]"}).join(",")+","+o.map(function(e){return"stride["+e+"]"}).join(",")+",offset)}");var s=new Function("CTOR_LIST","ORDER",i.join("\n"));return s(f[e],a)}function s(e){if(l(e))return"buffer";if(c)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}function o(e,t,r,n){if(void 0===e){var a=f.array[0];return a([])}"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var o=t.length;if(void 0===r){r=new Array(o);for(var u=o-1,l=1;u>=0;--u)r[u]=l,l*=t[u]}if(void 0===n){n=0;for(var u=0;o>u;++u)r[u]<0&&(n-=(t[u]-1)*r[u])}for(var c=s(e),p=f[c];p.length<=o+1;)p.push(i(c,p.length-1));var a=p[o+1];return a(e,t,r,n)}var u=e("iota-array"),l=e("is-buffer"),c="undefined"!=typeof Float64Array,f={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=o},{"iota-array":10,"is-buffer":11}],17:[function(e,t,r){"use strict";function n(e,t){for(var r=1,n=e.length,a=e[0],i=e[0],s=1;n>s;++s)if(i=a,a=e[s],t(a,i)){if(s===r){r++;continue}e[r++]=a}return e.length=r,e}function a(e){for(var t=1,r=e.length,n=e[0],a=e[0],i=1;r>i;++i,a=n)if(a=n,n=e[i],n!==a){if(i===t){t++;continue}e[t++]=n}return e.length=t,e}function i(e,t,r){return 0===e.length?e:t?(r||e.sort(t),n(e,t)):(r||e.sort(),a(e))}t.exports=i},{}],18:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("events"),f=e("ndarray"),p=n(f),h=e("ndarray-ops"),d=n(h),y=e("ndarray-pack"),m=n(y),g=e("ndarray-unpack"),v=n(g),b=e("cwise"),_=n(b),w=e("./randn"),k=n(w),S=e("./pairwise-distances"),x=n(S),E=e("./joint-probabilities"),A=n(E),I=e("./kl-divergence"),j=n(I),C=function(e){function t(e){i(this,t);var r=s(this,Object.getPrototypeOf(t).call(this));return e=e||{},r.dim=e.dim||2,r.perplexity=e.perplexity||30,r.earlyExaggeration=e.earlyExaggeration||4,r.learningRate=e.learningRate||1e3,r.nIter=e.nIter||1e3,r.metric=e.metric||"euclidean",r.barneshut=e.barneshut||!1,r.inputData=null,r.outputEmbedding=null,r}return o(t,e),l(t,[{key:"init",value:function(e){e=e||{};var t=e.data||[],r=e.type||"dense";if("dense"===r)this.inputData=(0,m.default)(t);else{if("sparse"!==r)throw new Error("input data type must be dense or sparse");for(var n=[],i=1,s=function(e){var r=Math.max.apply(null,t.map(function(t){return t[e]}))+1;n.push(r),i*=r},o=0;o<t[0].length;o++)s(o);this.inputData=(0,p.default)(new Float64Array(i),n);var u=!0,l=!1,c=void 0;try{for(var f,h=t[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d,y=f.value;(d=this.inputData).set.apply(d,a(y).concat([1]))}}catch(e){l=!0,c=e}finally{try{!u&&h.return&&h.return()}finally{if(l)throw c}}}this.outputEmbedding=(0,k.default)(this.inputData.shape[0],this.dim)}},{key:"run",value:function(){this.emit("progressStatus","Calculating pairwise distances"),this.distances=(0,x.default)(this.inputData,this.metric),this.emit("progressStatus","Calculating joint probabilities"),this.alpha=Math.max(this.dim-1,1),this.P=(0,A.default)(this.distances,this.perplexity);var e=Number.MAX_VALUE,t=0;this.emit("progressStatus","Early exaggeration with momentum 0.5"),d.default.mulseq(this.P,this.earlyExaggeration);var r=this._gradDesc(t,50,.5,0,0),n=u(r,2);e=n[0],t=n[1],this.emit("progressStatus","Early exaggeration with momentum 0.8");var a=this._gradDesc(t+1,100,.8,0,0),i=u(a,2);e=i[0],t=i[1],this.emit("progressStatus","Final optimization with momentum 0.8"),d.default.divseq(this.P,this.earlyExaggeration);var s=this._gradDesc(t+1,this.nIter,.8,1e-6,1e-6),o=u(s,2);return e=o[0],t=o[1],this.emit("progressStatus","Optimization end"),[e,t]}},{key:"rerun",value:function(){this.outputEmbedding=(0,k.default)(this.inputData.shape[0],this.dim);var e=this.run(),t=u(e,2),r=t[0],n=t[1];return[r,n]}},{key:"getOutput",value:function(){return(0,v.default)(this.outputEmbedding)}},{key:"getOutputScaled",value:function(){for(var e=(0,p.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),t=(0,p.default)(new Float64Array(this.outputEmbedding.shape[0]),[this.outputEmbedding.shape[0]]),r=0;r<this.outputEmbedding.shape[1];r++){var n=d.default.sup(d.default.abs(t,this.outputEmbedding.pick(null,r)));d.default.divs(e.pick(null,r),this.outputEmbedding.pick(null,r),n)}return(0,v.default)(e)}},{key:"_gradDesc",value:function(e,t,r){for(var n=arguments.length<=3||void 0===arguments[3]?1e-6:arguments[3],a=arguments.length<=4||void 0===arguments[4]?1e-6:arguments[4],i=30,s=(0,p.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),o=new Float64Array(this.outputEmbedding.size),l=0;l<o.length;l++)o[l]=1;var c=(0,p.default)(o,this.outputEmbedding.shape),f=Number.MAX_VALUE,h=Number.MAX_VALUE,y=0,m=(0,_.default)({args:["array"],pre:function(e){this.sum=0},body:function(e){this.sum+=e*e},post:function(e){return Math.sqrt(this.sum)}}),g=(0,_.default)({args:["array","array","array"],body:function(e,t,r){t*r>=0?e+=.05:e*=.95,e=Math.max(e,.01)}}),v=void 0;for(v=e;t>v;v++){var b=(0,j.default)(this.outputEmbedding,this.P,this.alpha),w=u(b,2),k=w[0],S=w[1],x=Math.abs(k-f);f=k;var E=m(S);if(this.emit("progressIter",[v,f,E]),h>f)h=f,y=v;else if(v-y>i)break;if(n>=E)break;if(a>=x)break;g(c,s,S),d.default.muleq(S,c);var A=(0,p.default)(new Float64Array(S.size),S.shape);d.default.muls(A,S,this.learningRate),d.default.mulseq(s,r),d.default.subeq(s,A),d.default.addeq(this.outputEmbedding,s),this.emit("progressData",this.getOutputScaled())}return[f,v]}}]),t}(c.EventEmitter);r.default=C,t.exports=r.default},{"./joint-probabilities":19,"./kl-divergence":20,"./pairwise-distances":21,"./randn":22,cwise:5,events:9,ndarray:16,"ndarray-ops":12,"ndarray-pack":13,"ndarray-unpack":15}],19:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){for(var r=100,n=e.shape[0],a=(0,i.default)(new Float64Array(n*n),[n,n]),s=(0,i.default)(new Float64Array(n*n),[n,n]),f=void 0,p=void 0,h=1/0,d=0,y=Math.log(t),m=void 0,g=void 0,v=void 0,b=void 0,_=0;n>_;_++){f=1,p=-(1/0),h=1/0;for(var w=0;r>w;w++){for(var k=0;n>k;k++)a.set(_,k,Math.exp(-e.get(_,k)*f));a.set(_,_,0),v=0;for(var k=0;n>k;k++)v+=a.get(_,k);0==v&&(v=u),b=0;for(var k=0;n>k;k++)a.set(_,k,a.get(_,k)/v),b+=e.get(_,k)*a.get(_,k);if(g=Math.log(v)+f*b,m=g-y,Math.abs(m)<=c)break;m>0?(p=f,f=h==1/0?2*f:(f+h)/2):(h=f,p==-(1/0)?f/=2:f=(f+p)/2)}d+=f}o.default.add(s,a,a.transpose(1,0));var S=Math.max(o.default.sum(s),l);return o.default.divseq(s,S),o.default.maxseq(s,l),s};var a=e("ndarray"),i=n(a),s=e("ndarray-ops"),o=n(s),u=1e-7,l=Number.EPSILON||2.220446049250313e-16,c=1e-5;t.exports=r.default},{ndarray:16,"ndarray-ops":12}],20:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){var n=e.shape[0],a=e.shape[1],s=(0,i.default)(new Float64Array(n*n),[n,n]),u=(0,f.default)(e,"euclidean");h(u);var l=(r+1)/-2;o.default.powseq(o.default.divseq(o.default.addseq(u,1),r),l);for(var c=0;n>c;c++)u.set(c,c,0);var d=Math.max(o.default.sum(u),p);o.default.divs(s,u,d),o.default.maxseq(s,p);var y=(0,i.default)(new Float64Array(n*n),[n,n]),m=(0,i.default)(new Float64Array(n*n),[n,n]);o.default.div(y,t,s),o.default.logeq(y),o.default.assign(m,t);var g=o.default.sum(o.default.muleq(y,m)),v=(0,i.default)(new Float64Array(e.size),e.shape),b=(0,i.default)(new Float64Array(n*n),[n,n]);o.default.sub(b,t,s),o.default.muleq(b,u);for(var c=0;n>c;c++)for(var _=0;a>_;_++){var w=(0,i.default)(new Float64Array(e.shape[0]),[e.shape[0]]);o.default.assign(w,e.pick(null,_)),o.default.addseq(o.default.negeq(w),e.get(c,_)),o.default.muleq(w,b.pick(c,null)),v.set(c,_,o.default.sum(w))}var k=2*(r+1)/r;return o.default.mulseq(v,k),[g,v]};var a=e("ndarray"),i=n(a),s=e("ndarray-ops"),o=n(s),u=e("cwise"),l=n(u),c=e("./pairwise-distances"),f=n(c),p=Number.EPSILON||2.220446049250313e-16,h=(0,l.default)({args:["array"],body:function(e){e*=e}});t.exports=r.default},{"./pairwise-distances":21,cwise:5,ndarray:16,"ndarray-ops":12}],21:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){var r=e.shape[0],n=(0,i.default)(new Float64Array(r*r),[r,r]);switch(t){case"euclidean":for(var a=0;r>a;a++)for(var s=a+1;r>s;s++){var o=u(e.pick(a,null),e.pick(s,null));n.set(a,s,o),n.set(s,a,o)}break;case"manhattan":for(var a=0;r>a;a++)for(var s=a+1;r>s;s++){var o=l(e.pick(a,null),e.pick(s,null));n.set(a,s,o),n.set(s,a,o)}break;case"jaccard":for(var a=0;r>a;a++)for(var s=a+1;r>s;s++){var o=c(e.pick(a,null),e.pick(s,null));n.set(a,s,o),n.set(s,a,o)}break;case"dice":for(var a=0;r>a;a++)for(var s=a+1;r>s;s++){var o=f(e.pick(a,null),e.pick(s,null));n.set(a,s,o),n.set(s,a,o)}}return n};var a=e("ndarray"),i=n(a),s=e("cwise"),o=n(s),u=(0,o.default)({args:["array","array"],pre:function(e,t){this.sum=0},body:function(e,t){var r=e-t;this.sum+=r*r},post:function(e,t){return Math.sqrt(this.sum)}}),l=(0,o.default)({args:["array","array"],pre:function(e,t){this.sum=0},body:function(e,t){this.sum+=Math.abs(e-t)},post:function(e,t){return this.sum}}),c=(0,o.default)({args:["array","array"],pre:function(e,t){this.tf=0,this.tt=0},body:function(e,t){var r=Math.round(e),n=Math.round(t);this.tf+=+(r!=n),this.tt+=+(1==r&&1==n)},post:function(e,t){return this.tf+this.tt===0?1:this.tf/(this.tf+this.tt)}}),f=(0,o.default)({args:["array","array"],pre:function(e,t){this.tf=0,this.tt=0},body:function(e,t){var r=Math.round(e),n=Math.round(t);this.tf+=+(r!=n),this.tt+=+(1==r&&1==n)},post:function(e,t){return this.tf+this.tt===0?1:this.tf/(this.tf+2*this.tt)}});t.exports=r.default},{cwise:5,ndarray:16}],22:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(){var e=2*Math.random()-1,t=2*Math.random()-1,r=e*e+t*t;return 0==r||r>1?a():e*Math.sqrt(-2*Math.log(r)/r)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){for(var r=new Float64Array(e*t),n=0;n<r.length;n++)r[n]=1e-4*a();return(0,s.default)(r,[e,t])};var i=e("ndarray"),s=n(i);t.exports=r.default},{ndarray:16}]},{},[18])(18)});